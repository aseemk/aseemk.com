<!doctype html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0" />

    <!--
        Welcome to the source of this Jekyll-powered website and blog. No need
        to make it hard on yourself; all of the original source is on GitHub:

        https://github.com/aseemk/aseemk.com

        I hope you enjoy and find it educational. Feel free to contact me with
        any questions, comments or suggestions at aseem.kishore@gmail.com.

        Cheers,
        Aseem
    -->

    <!--
        Prevent excessive caching by GitHub Pages. This is tricky. Links:
        - http://stackoverflow.com/q/1341089/132978
        - http://stackoverflow.com/q/6664542/132978
        - http://stackoverflow.com/q/4542299/132978
    -->
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <!-- For debugging: -->
    <script>
        document.write('<!' + '-- ' + document.lastModified + ' --' + '>');
    </script>

    {% capture pageTitleEsc %}{{ page.title | escape }}{% endcapture %}
    {% capture pageSectionEsc %}{{ page.section | escape }}{% endcapture %}
    {% capture siteTitleEsc %}{{ site.title | escape }}{% endcapture %}

    <title>{% if page.title %}{{ pageTitleEsc }}
        - {% endif %}{% if page.section %}{{ pageSectionEsc }}
        - {% endif %}{{ siteTitleEsc }}</title>

    {% capture pageDescEsc %}{{ page.description | escape }}{% endcapture %}
    {% capture siteDescEsc %}{{ site.description | escape }}{% endcapture %}
    {% capture descriptionEsc %}{% if page.description %}{{ pageDescEsc }}{% else %}{{ siteDescEsc }}{% endif %}{% endcapture %}

    <meta name="description" content="{{ descriptionEsc }}" />

    {% capture pageURL %}{{ page.url | remove:'.html' }}{% endcapture %}
    {% capture pageURLAbs %}{{ site.url }}{{ pageURL }}{% endcapture %}
    {% capture pageURLAbsEsc %}{{ pageURLAbs | escape }}{% endcapture %}

    <link rel="canonical" href="{{ pageURLAbsEsc }}">

    <!-- http://developers.facebook.com/docs/opengraph/ -->
    <!-- TODO is there a better liquid way of "if x then x else y"?
         "x or y" doesn't seem to work, neither "or" nor "||". -->
    {% capture ogTitle %}{% if page.title %}{{ pageTitleEsc }}{% elsif page.section %}{{ pageSectionEsc }}{% else %}{{ siteTitleEsc }}{% endif %}{% endcapture %}
    {% capture ogSiteName %}{% if page.title && page.section %}{{ pageSectionEsc }}
        - {% endif %}{{ siteTitleEsc }}{% endcapture %}
    <meta property="og:url" content="{{ pageURLAbsEsc }}" />
    <meta property="og:title" content="{{ ogTitle }}" />
    <meta property="og:site_name" content="{{ ogSiteName }}" />
    <meta property="og:type" content="{% if page.og_type %}{{ page.og_type | escape }}{% else %}website{% endif %}" />
    <meta property="og:description" content="{{ descriptionEsc }}" />
    {% if page.image %}
    <meta property="og:image" content="{{ site.url | escape }}{{ page.image | escape }}" />
    {% else %}
    <!-- XXX use my Gravatar as default OpenGraph image if none specified? -->
    <meta property="og:image" content="http://gravatar.com/avatar/5af2930e39246c8339fa7ad8e394e96e?s=200">
    {% endif %}

    <meta property="fb:admins" content="704844" />
    <meta property="fb:app_id" content="160410744017439" />

    <link rel="shortcut icon" href="/favicon.ico">

    <!-- Prevent stale CSS in browser caches; update ?v on changes! -->
    <link rel="stylesheet" href="/styles/h5bp-base.css" />
    <link rel="stylesheet" href="/styles/common.css?v=1" />

    <!-- this is needed before body to enable HTML5 elements in IE8- -->
    <script src="/scripts/modernizr-1.7.min.js"></script>

    <!-- Google Analytics, streamlined/optimized a bit: -->
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22174557-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
